<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ছবি ও শব্দের মিলকরণ</title>
<style>
body {
    font-family: SolaimanLipi, sans-serif;
    text-align: center;
    background-color: #f0f8ff;
    margin: 0;
    padding: 20px;
}
h1 {
    color: #2c3e50;
    margin-bottom: 20px;
	font-size: 30px;
}
.game-container {
    max-width: 600px;
    margin: 0 auto;
}
.clock-container {
    width: 400px;
    height: 400px;
    border-radius: 50%;
    background-color: #fff;
    position: relative;
    margin: 20px auto;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
}
.images-container {
    position: absolute;
    width: 100%;
    height: 100%;
}
.image-item {
    position: absolute;
    width: 60px;
    height: 60px;
    transform-origin: center;
    font-size: 16px;
    text-align: center;
    line-height: 60px;
    border-radius: 50%;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}
.image-item:hover {
    transform: scale(1.1);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
}

/* কাঁটার ডিজাইন */
.hand {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 8px; /* কাঁটা মোটা */
    height: 130px;
    background-color: #e74c3c; /* রঙ */
    border-radius: 3px;
    transform-origin: bottom center;
    transform: translate(-50%, -100%) rotate(0deg);
    cursor: grab;
    z-index: 10;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* কিছু ছায়া */
}

/* কাঁটার গোড়াতে বৃত্ত */
.hand:before {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 30px;
    height: 30px;
    background-color: #e74c3c;
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* ছায়া */
}

.hand:active {
    cursor: grabbing;
}

.control-panel {
    margin-top: 30px;
}
#word-display {
    font-size: 30px;
    font-weight: bold;
    color: #34495e;
    margin: 20px 0;
}
#check-btn {
    background: linear-gradient(135deg, #ff6a00, #ee0979);
    color: white;
    border: none;
    padding: 14px 28px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    letter-spacing: 1px;
}

#check-btn:hover {
    background: linear-gradient(135deg, #cc5500, #b00060); /* গাঢ় রঙ */
    transform: scale(1.08);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
}


#message {
    margin-top: 20px;
    font-size: 30px;
    font-weight: bold;
    min-height: 30px;
}
.correct {
    color: #27ae60;
}
.incorrect {
    color: #e74c3c;
}
</style>
</head>
<body>
<div class="game-container">
    <h1>ছবি ও শব্দের মিলকরণ</h1>
    <div class="clock-container">
        <div class="images-container" id="images-container"></div>
        <div class="hand" id="hand"></div>
    </div>
    <div class="control-panel">
        <div id="word-display">শব্দ: <span id="current-word"></span></div>
        <button id="check-btn">চেক করুন</button>
        <div id="message"></div>
    </div>
</div>
<script>
const imagesContainer = document.getElementById('images-container');
const hand = document.getElementById('hand');
const wordDisplay = document.getElementById('current-word');
const checkBtn = document.getElementById('check-btn');
const messageDiv = document.getElementById('message');

// শব্দ এবং ছবি ফাইল পাথ
const words = ['Apple', 'Ball', 'Cow', 'Duck', 'Egg', 'Frog', 'Goat', 'Hen', 'Ice', 'Jeep', 'King Fisher', 'Lotus'];
const imageUrls = [
'Apple.jpg', 
'Ball.jpg', 
'Cow.jpg', 
'Duck.jpg', 
'Egg.jpg',
'Frog.jpg',
'Goat.jpg', 
'Hen.jpg',
'Ice.jpg', 
'Jeep.jpg',
'KingFisher.jpg',
'Lotus.jpg'
];

let currentAngle = 0;
let isDragging = false;
let centerX, centerY;
let currentTargetWord = '';

// অডিও কনটেক্সট তৈরি
const audioContext = new (window.AudioContext || window.webkitAudioContext)();

// ✅ Correct sound
function playCorrectSound() {
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.type = "sine";
    oscillator.frequency.setValueAtTime(392, audioContext.currentTime); // G4
    oscillator.frequency.setValueAtTime(493.88, audioContext.currentTime + 0.1); // B4
    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.2); // E5
    
    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.6);
}

// ❌ Incorrect sound
function playIncorrectSound() {
    const oscillator1 = audioContext.createOscillator();
    const oscillator2 = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator1.connect(gainNode);
    oscillator2.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator1.type = 'square';
    oscillator1.frequency.setValueAtTime(180, audioContext.currentTime); 
    
    oscillator2.type = 'sawtooth';
    oscillator2.frequency.setValueAtTime(185, audioContext.currentTime); 
    
    gainNode.gain.setValueAtTime(0.7, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
    
    oscillator1.start(audioContext.currentTime);
    oscillator2.start(audioContext.currentTime);
    oscillator1.stop(audioContext.currentTime + 0.4);
    oscillator2.stop(audioContext.currentTime + 0.4);
}

// ঘড়ি শুরু করার জন্য
function initClock() {
    const rect = imagesContainer.getBoundingClientRect();
    centerX = rect.width / 2;
    centerY = rect.height / 2;

    for (let i = 0; i < 12; i++) {
        const img = document.createElement('img');
        img.src = imageUrls[i];
        img.alt = `Image ${i + 1}`;
        img.className = 'image-item';

        const angle = i * 30;
        const radius = 160;

        const x = centerX + radius * Math.sin(angle * Math.PI / 180);
        const y = centerY - radius * Math.cos(angle * Math.PI / 180);
        img.style.left = `${x}px`;
        img.style.top = `${y}px`;
        img.style.transform = 'translate(-50%, -50%)';

        imagesContainer.appendChild(img);
    }
    newRound();
}

// নতুন রাউন্ড শুরু করা
function newRound() {
    const randomIndex = Math.floor(Math.random() * words.length);
    currentTargetWord = words[randomIndex];
    wordDisplay.textContent = currentTargetWord;
    messageDiv.textContent = '';
    messageDiv.className = '';
}

// হাত ড্র্যাগ করার জন্য
hand.addEventListener('mousedown', (e) => {
    isDragging = true;
    e.preventDefault();
});

document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;

    const rect = imagesContainer.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    const dx = mx - centerX;
    const dy = my - centerY;

    let angle = Math.atan2(dx, -dy) * (180 / Math.PI);
    if (angle < 0) angle += 360;

    currentAngle = angle;
    hand.style.transform = `translate(-50%, -100%) rotate(${angle}deg)`;
});

document.addEventListener('mouseup', () => {
    isDragging = false;
});

// চেক বাটন
checkBtn.addEventListener('click', () => {
    const position = Math.round(currentAngle / 30) % 12;
    const targetPosition = words.indexOf(currentTargetWord);

    if (position === targetPosition) {
        messageDiv.textContent = 'সঠিক হয়েছে!';
        messageDiv.className = 'correct';
        playCorrectSound(); // ✅ সঠিক হলে সাউন্ড বাজবে
        setTimeout(newRound, 2000);
    } else {
        messageDiv.textContent = 'আবার চেষ্টা করো।';
        messageDiv.className = 'incorrect';
        playIncorrectSound(); // ❌ ভুল হলে সাউন্ড বাজবে
    }
});

// শুরু
window.addEventListener('load', () => {
    initClock();
});
</script>
</body>
</html>
